<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ“… æ—¥ç½®å·æ—…éŠäº’å‹•è¡Œç¨‹è¡¨</title>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.4.1/css/responsive.dataTables.min.css">
  <style>
  body {
    font-family: "Segoe UI", "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
    background: linear-gradient(to bottom, #f3f6fb, #eaf1f8);
    padding: 30px;
    color: #333;
  }
  h2 {
    color: #1a237e;
    font-size: 28px;
    margin-bottom: 15px;
    text-shadow: 1px 1px 2px #ccc;
  }
  #weather-box, #animated-weather, #weather-extra, #date-nav {
    background-color: #fff;
    padding: 15px 20px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    margin-bottom: 20px;
  }
  table.dataTable {
    background-color: #fff;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
  }
  table.dataTable thead th {
    background: linear-gradient(to right, #e3f2fd, #bbdefb);
    color: #1a237e;
    font-weight: bold;
    border-bottom: 2px solid #90caf9;
  }
  table.dataTable tbody td {
    border-bottom: 1px solid #eee;
  }
  table.dataTable tbody tr:hover {
    background-color: #f1f8ff;
  }
  </style>
</head>
<body>
  <h2>ğŸ“… æ—¥ç½®å·æ—…éŠäº’å‹•è¡Œç¨‹è¡¨</h2>
  <div id="weather-box">â³ æ­£åœ¨è¼‰å…¥å³æ™‚å¤©æ°£è³‡æ–™...</div>
  <div id="animated-weather">
    <h3>â›… å³æ™‚å¤©æ°£å‹•ç•«</h3>
    <div><span id="weather-icon">â³</span><span id="weather-desc">è¼‰å…¥ä¸­...</span></div>
  </div>
  <div id="weather-extra">
    <h3>ğŸŒ¦ï¸ åœ°å€å³æ™‚å¤©æ°£</h3>
    <ul>
      <li>ğŸ“ ç”°é‚Šå¸‚ï¼š<span id="weather-tanabe">è®€å–ä¸­...</span></li>
      <li>â™¨ï¸ é¾ç¥æ¸©æ³‰ï¼š<span id="weather-ryujin">è®€å–ä¸­...</span></li>
      <li>ğŸ–ï¸ ç™½æµœæ¸©æ³‰ï¼š<span id="weather-shirahama">è®€å–ä¸­...</span></li>
    </ul>
  </div>
  <div id="date-nav"></div>

  <table id="itinerary" class="display responsive nowrap" style="width:100%">
    <thead>
      <tr><th>æ—¥æœŸ</th><th>æ™‚é–“å€æ®µ</th><th>è»Šç¨‹</th><th>æ´»å‹•å…§å®¹</th><th>é›»è©±</th><th>åœ°åœ–</th><th>åœ°å€</th></tr>
    </thead>
    <tbody>

<tr><td>9/11 (å››)</td><td>12:00</td><td></td><td>ğŸ“ é—œè¥¿æ©Ÿå ´å‡ºé—œ</td><td></td><td><a href="https://www.google.com/maps/search/?api=1&query=é—œè¥¿æ©Ÿå ´å‡ºé—œ" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td>1 Senshukukokita, Izumisano, Osaka 549-0001 æ—¥æœ¬</td></tr>
<tr><td>9/11 (å››)</td><td>13:30</td><td>ğŸš—</td><td>ğŸ“ ç§Ÿè»Šå‡ºç™¼</td><td></td><td><a href="https://www.google.com/maps/search/?api=1&query=ç§Ÿè»Šå‡ºç™¼" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td>1 Senshukukokita, Izumisano, Osaka 549-0001 æ—¥æœ¬</td></tr>
<tr><td>9/11 (å››)</td><td>13:30~14:50</td><td>ğŸš—</td><td>å…ƒå¶‹ç¥ç¤¾ é³¥å±… [å¤©ç¥å´å…ƒå³¶ç¬¬äºŒé§è»Šå ´]</td><td>0739-26-9929</td><td><a href="https://www.google.com/maps?q=22-41+Mera,+Tanabe,+Wakayama+646-0058,+æ—¥æœ¬" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td>22-41 Mera, Tanabe, Wakayama 646-0058 æ—¥æœ¬</td></tr>
<tr><td>9/11 (å››)</td><td>14:50~15:20</td><td></td><td>å…ƒå¶‹ç¥ç¤¾ é³¥å±…</td><td></td><td></td><td>22-41 Mera, Tanabe, Wakayama 646-0058 æ—¥æœ¬</td></tr>
<tr><td>9/11 (å››)</td><td>15:20~15:30</td><td>ğŸš—</td><td>ğŸ£ é‡£å…·åº— - BAYãƒãƒ«ãƒãƒ§ã‚¦</td><td>0739-26-6300</td><td><a href="https://www.google.com/maps?q=å’Œæ­Œå±±çœŒç”°è¾ºå¸‚ç¨²æˆç”º230" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td>230-3 Inaricho, Tanabe, Wakayama 646-0051 æ—¥æœ¬</td></tr>
<tr><td>9/12 (äº”)</td><td>æ•´å¤©</td><td></td><td>ğŸ“ æ—¥ç½®å·é®é‡£</td><td></td><td><a href="https://www.google.com/maps?q=33.674167,135.544028" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td></td></tr>
<tr><td>9/12 (äº”)</td><td>16:30~17:30</td><td></td><td>â™¨ï¸ ãˆã³ã­æ¸©æ³‰</td><td>0739-53-0366</td><td><a href="https://www.google.com/maps/search/?api=1&query=ãˆã³ã­æ¸©æ³‰+å’Œæ­Œå±±çœŒè¥¿ç‰Ÿå©éƒ¡ç™½æµœç”ºå‘å¹³504" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td>å’Œæ­Œå±±çœŒè¥¿ç‰Ÿå©éƒ¡ç™½æµœç”ºå‘å¹³504</td></tr>
<tr><td>9/13 (å…­)</td><td>08:00~09:25</td><td>ğŸš—</td><td>å’Œæ­Œå±±çœŒæ—¥é«˜å· ä¼Šè—¤è˜ï¼ˆã‚ªãƒˆãƒªåº—ï¼‰</td><td>0738-57-0624</td><td><a href="https://www.google.com/maps?q=29+Kumanogawa,+Hidakagawa,+Hidaka+District,+Wakayama+644-1242,+Japan" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td>ã€’644-1242 å’Œæ­Œå±±çœŒæ—¥é«˜éƒ¡æ—¥é«˜å·ç”ºç†Šé‡å·29</td></tr>
<tr><td>9/13 (å…­)</td><td>09:30~15:00</td><td></td><td>ğŸ“ é‡£é­š + å±±é‡æ­£åšï¼ˆã‚ªãƒˆãƒªï¼‰</td><td></td><td><a href="https://www.google.com/maps?q=21+Harabiura,+Hidakagawa,+Hidaka+District,+Wakayama+644-1133,+Japan" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td>21 Harabiura, Hidakagawa, Wakayama 644-1133, Japan</td></tr>
<tr><td>9/13 (å…­)</td><td>15:00~16:00</td><td>ğŸš—</td><td>â™¨ï¸ é¾ç¥æ¸©æ³‰å…ƒæ¹¯</td><td>0739-79-0726</td><td><a href="https://www.google.com/maps?q=å’Œæ­Œå±±çœŒç”°è¾ºå¸‚é¾ç¥æ‘é¾ç¥37" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td>å’Œæ­Œå±±çœŒç”°è¾ºå¸‚é¾ç¥æ‘é¾ç¥37</td></tr>
<tr><td>9/14 (æ—¥)</td><td>æ•´å¤©</td><td></td><td>ğŸ“ æ—¥ç½®å·é®é‡£</td><td></td><td><a href="https://www.google.com/maps?q=33.674167,135.544028" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td></td></tr>
<tr><td>9/14 (æ—¥)</td><td>æ™šé¤å¾Œ</td><td></td><td>ğŸ›’ è¶…å¸‚ - ã‚¨ãƒã‚°ãƒªãƒ¼ãƒ³</td><td></td><td><a href="https://www.google.com/maps?q=564-1+Ikuma,+Kamitonda,+Wakayama+649-2103+æ—¥æœ¬" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td>564-1 Ikuma, ä¸Šå¯Œç”°ç”º Kamitonda, Wakayama 649-2103 æ—¥æœ¬</td></tr>
<tr><td>9/15 (ä¸€)</td><td>æ•´å¤©</td><td></td><td>ğŸ“ æ—¥ç½®å·é®é‡£</td><td></td><td><a href="https://www.google.com/maps?q=33.674167,135.544028" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td></td></tr>
<tr><td>9/16 (äºŒ)</td><td>09:00</td><td></td><td>ğŸ  æ£®ã®ãŠå®¿ é€€æˆ¿</td><td></td><td><a href="https://www.google.com/maps/search/?api=1&query=æ£®ã®ãŠå®¿+é€€æˆ¿" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td>å’Œæ­Œå±±çœŒè¥¿ç‰Ÿå©éƒ¡ç™½æµœç”ºå¤§880-2</td></tr>
<tr><td>9/16 (äºŒ)</td><td>09:00~09:30</td><td>ğŸš—</td><td>ğŸï¸ ä¸‰æ®µå£ãƒ»ä¸‰æ®µå£æ´çªŸ</td><td>0739-42-4495</td><td><a href="https://www.google.com/maps?q=2927-52,+Shirahama,+Nishimuro+District,+Wakayama+649-2211,+æ—¥æœ¬" target="_blank">ğŸ“ é»æˆ‘é–‹å•Ÿåœ°åœ–</a></td><td>å’Œæ­Œå±±çœŒè¥¿ç‰Ÿå©éƒ¡ç™½æµœç”º2927-52</td></tr>
<tr><td>9/16 (äºŒ)</td><td>11:30~11:45</td><td>ğŸš—</td><td>ğŸ“ ã¨ã‚Œã¨ã‚Œé­šå¸‚å ´</td><td></td><td></td><td>å’Œæ­Œå±±çœŒè¥¿ç‰Ÿå©éƒ¡ç™½æµœç”ºå …ç”°2521</td></tr>

    </tbody>
  </table>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/responsive/2.4.1/js/dataTables.responsive.min.js"></script>

  <script>
    $(document).ready(function () {
      $('#itinerary').DataTable({
        pageLength: 100,
        order: [],
        language: {
          search: 'ğŸ” æœå°‹ï¼š',
          lengthMenu: 'æ¯é é¡¯ç¤º _MENU_ ç­†',
          info: 'é¡¯ç¤ºç¬¬ _START_ åˆ° _END_ ç­†ï¼Œå…± _TOTAL_ ç­†',
          paginate: {
            previous: 'â¬…ï¸',
            next: 'â¡ï¸'
          }
        }
      });
    });
  </script>

  <script>
    async function fetchWeatherData(lat, lon, elementId) {
      try {
        const cacheKey = `weather-${elementId}`;
        const cached = sessionStorage.getItem(cacheKey);
        const now = Date.now();
        if (cached) {
          const parsed = JSON.parse(cached);
          if (now - parsed.timestamp < 600000) {
            document.getElementById(elementId).innerText = parsed.value;
            return;
          }
        }

        const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,precipitation,weathercode&timezone=Asia%2FTokyo`;
        const res = await fetch(url);
        const data = await res.json();
        const t = data.current.temperature_2m;
        const r = data.current.precipitation;
        const w = data.current.weathercode;
        const map = {0:'â˜€ï¸ æ™´',1:'ğŸŒ¤ï¸',2:'â›…',3:'â˜ï¸',45:'ğŸŒ«ï¸',51:'ğŸŒ¦ï¸',61:'ğŸŒ§ï¸',95:'â›ˆï¸'};
        const text = `${map[w]||'â˜ï¸'} ${t}Â°Cï¼Œé™æ°´ ${r}mm/h`;
        document.getElementById(elementId).innerText = text;
        sessionStorage.setItem(cacheKey, JSON.stringify({ value: text, timestamp: now }));
      } catch {
        document.getElementById(elementId).innerText = 'âš ï¸ ç„¡æ³•å–å¾—è³‡æ–™';
      }
    }

    fetchWeatherData(33.723, 135.379, 'weather-tanabe');
    fetchWeatherData(33.905, 135.584, 'weather-ryujin');
    fetchWeatherData(33.681, 135.345, 'weather-shirahama');
  </script>
</body>
</html>
