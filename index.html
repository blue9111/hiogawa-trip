
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>æ—¥ç½®å·æ—…éŠè¡Œç¨‹è¡¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="6å¤©5å¤œæ—¥ç½®å·æ—…éŠäº’å‹•è¡Œç¨‹è¡¨ï¼Œå«åœ°åœ–ã€æ¯æ—¥è·³è½‰ã€å³æ™‚å¤©æ°£" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
  <style>
    body { font-family: "Segoe UI", sans-serif; padding: 1em; background: #f8f9fa; }
    table { width: 100%; }
    th { background: #e3f2fd; }
    #weather-box { background: #fff3cd; color: #856404; padding: 10px; border-radius: 6px; margin-bottom: 1em; }
    @media (max-width: 768px) {
      table.dataTable td { font-size: 12px; }
    }
  </style>
</head>
<body>
  <div style="text-align:center; margin-bottom:10px;">
    <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://blue9111.github.io/hiogawa-trip/" alt="æƒç¢¼é–‹å•Ÿ">
    <div style="font-size:12px; color:#666;">ğŸ“± æƒç¢¼å¿«é€Ÿé–‹å•Ÿè¡Œç¨‹é é¢</div>
  </div>

  <div id="weather-box">â³ æ­£åœ¨å–å¾—å¤©æ°£è³‡æ–™...</div>

  <table id="itinerary" class="display">
    <thead><tr><th>ğŸ“… æ—¥æœŸ</th><th>è¡Œç¨‹å…§å®¹</th><th>åœ°é»</th><th>æ™‚é–“</th><th>å‚™è¨»</th><th>åœ°å€</th><th>åœ°åœ–é€£çµ</th></tr></thead>
    <tbody>
      <tr id="date_0911"><td>ğŸ“… 9/11 (å››)</td><td>å…ƒå¶‹ç¥ç¤¾</td><td>å¤©ç¥å´</td><td>13:30~15:00</td><td></td><td>å’Œæ­Œå±±çœŒç”°è¾ºå¸‚</td><td><a href="https://goo.gl/maps/x" target="_blank">ğŸ“</a></td></tr>
      <tr id="date_0912"><td>ğŸ“… 9/12 (äº”)</td><td>æ—¥ç½®å·é®é‡£</td><td>æ—¥ç½®å·</td><td>09:00~16:00</td><td></td><td>å’Œæ­Œå±±çœŒè¥¿ç‰Ÿå©éƒ¡</td><td><a href="https://goo.gl/maps/y" target="_blank">ğŸ“</a></td></tr>
    </tbody>
  </table>

  <script>
    $(document).ready(function () {
      $('#itinerary').DataTable({
        "pageLength": 10,
        "language": {
          "search": "ğŸ” æœå°‹ï¼š",
          "lengthMenu": "æ¯é é¡¯ç¤º _MENU_ ç­†ï¼ˆåŒ…å«è©²å¤©æ‰€æœ‰è¡Œç¨‹ï¼‰",
          "info": "é¡¯ç¤ºç¬¬ _START_ åˆ° _END_ ç­†ï¼Œå…± _TOTAL_ ç­†",
          "paginate": { "previous": "â¬…ï¸", "next": "â¡ï¸" }
        }
      });

      fetch("https://api.open-meteo.com/v1/forecast?latitude=33.723&longitude=135.379&current=temperature_2m,precipitation,weathercode&timezone=Asia%2FTokyo")
        .then(res => res.json())
        .then(data => {
          const t = data.current.temperature_2m;
          const r = data.current.precipitation;
          const w = data.current.weathercode;
          const map = {0:"â˜€ï¸ æ™´",1:"ğŸŒ¤ï¸ æ™´æ™‚å¤šé›²",2:"â›…",3:"â˜ï¸",45:"ğŸŒ«ï¸",51:"ğŸŒ¦ï¸",61:"ğŸŒ§ï¸",95:"â›ˆï¸"};
          document.getElementById("weather-box").innerHTML = `ğŸ“ ç¾åœ¨ç”°é‚Šå¸‚ï¼š<strong>${map[w]||'â˜ï¸'}</strong> ${t}Â°Cï¼Œé™é›¨é‡ ${r} mm/h`;
        })
        .catch(() => { document.getElementById("weather-box").innerText = "âš ï¸ ç„¡æ³•å–å¾—å³æ™‚å¤©æ°£è³‡æ–™"; });
    });
  </script>
</body>
</html>
